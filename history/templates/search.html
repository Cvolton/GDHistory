{% extends "base.html" %}
{% load mathfilters %}
{% load tags %}
{% block title %}Results for '{{ query }}'{% endblock title %}
{% block content %}
<style>
td > a:first-child {
	display: block;
	text-decoration: none;
	color: inherit;
	z-index: 0;
	padding: .5rem !important;
}
td > a:first-child:focus {
	outline: 0;
}
td {
	padding: 0px !important;
}
tr:hover, tr:focus-within {
	background: #f2f3ff;
	outline: none;
}
</style>
<div class="row">
	<p class="lead">Showing results for {{ query }}</p>
</div>
<div class="row">
	<table class="table table-striped">
		<thead>
			<tr>
				<th>ID</th>
				<th>Name</th>
				<th>Last record update</th>
				<th>Downloads</th>
				<th>Likes</th>
				<th>Difficulty</th>
				<th>Stars</th>
				<th>Creator</th>
				<th>Data Available</th>
			</tr>
		</thead>
		<tbody>
		{% for level in level_records %}
			<!-- onclick="window.location='{% url 'level' level.online_id %}';" -->
			<tr>
				<td><a href="{% url 'level' level.online_id %}">{{ level.online_id }}</a></td>
				<td><a href="{% url 'level' level.online_id %}" tabindex="-1">{{ level.cache_level_name }}</a></td>
				<td><a href="{% url 'level' level.online_id %}" tabindex="-1">{{ level.cache_submitted|date:"N j, Y" }}</a></td>
				<td><a href="{% url 'level' level.online_id %}" tabindex="-1">{{ level.cache_downloads }}</a></td>
				<td><a href="{% url 'level' level.online_id %}" tabindex="-1">{{ level.cache_likes }}</a></td>
				<td><a href="{% url 'level' level.online_id %}" tabindex="-1">{% difficulty level.cache_rating_sum level.cache_rating level.cache_demon level.cache_auto level.cache_demon_type %}</a></td>
				<td><a href="{% url 'level' level.online_id %}" tabindex="-1">{{ level.cache_stars }}</a></td>
				<td><a href="{% url 'level' level.online_id %}" tabindex="-1">{{ level.cache_username }}</a></td>
				<td><a href="{% url 'level' level.online_id %}" tabindex="-1">{% if level.cache_level_string_available %}✅{% else %}❌{% endif %}</a></td>
			</tr>
		{% endfor %}
		</tbody>
	</table>
</div>
<div class="row">
	<p class="align-center">
		<a href="?p={{ page|sub:1 }}{% for filter in filters %}{% if filters|get_item:filter %}&{{filter}}={{ filters|get_item:filter }}{% endif %}{% endfor %}" class="btn btn-danger {% if page == minimum_page_button %}disabled{% endif %}" role="button">&lt;</a>
		{% for button in page_buttons %}
			<a href="?p={{ button }}{% for filter in filters %}{% if filters|get_item:filter %}&{{filter}}={{ filters|get_item:filter }}{% endif %}{% endfor %}" class="btn {% if button == page %}btn-primary{% else %}btn-light{% endif %}" role="button">{{ button }}</a>
		{% endfor %}
		<a href="?p={{ page|add:1 }}{% for filter in filters %}{% if filters|get_item:filter %}&{{filter}}={{ filters|get_item:filter }}{% endif %}{% endfor %}" class="btn btn-danger {% if page == maximum_page_button %}disabled{% endif %}" role="button">&gt;</a>
	</p>
</div>
<!-- {{ level.pk }} -->
{% endblock %}